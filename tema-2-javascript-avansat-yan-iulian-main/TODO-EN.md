# Assignment 2 (2.5 pts)

# Topic: JavaScript

# Part I — The `render(input, values)` Function

You are given the function `function render(input, values)` where:

- `input` is an object (or an array of objects) describing a tree of tags;
- `values` is an object containing key–value pairs used for token substitution;
- The function must generate a string in an HTML-like format according to the following rules:

### Node model:

```js
{
  tag: 'div',
  attrs: { id: 'main', hidden: true },
  children: [
    'Hello ',
    { tag: 'b', children: ['world'] }
  ]
}
```

### Rendering rules:

- Attributes of type **string** are rendered as `key="value"`.
- Attributes of type **boolean** are rendered by presence only (`hidden` in the example above).
- Children can be either strings (text) or other node objects following the same model.
- Tokens of the form `${key}` appearing in text or attribute values must be replaced with the corresponding value from `values`.
- If `input` is an array, top-level nodes are concatenated directly in the output.

### Requirements:

- The function returns an empty string if the first parameter is an empty object; (0.25 pts)
- The function throws an exception with the message `InvalidType` if any of the parameters is not an object; (0.25 pts)
- The function correctly renders a simple tag; (0.25 pts)
- The function correctly handles string and boolean attributes; (0.25 pts)
- The function performs correct token substitution in both text and attributes; (0.25 pts)
- The function correctly handles a complex nested structure with multiple root nodes; (0.25 pts)

---

# Part II — The `parse(markup)` Function

You are given the function `function parse(markup)` where:

- `markup` is a string generated by `render`;
- The function must reconstruct the object (or array of objects) that represents the same tag structure.

### Parsing rules:

- Attributes without a value become boolean (`true`);
- Attributes with a value (`key="value"`) become strings;
- Text between tags becomes a text node (string);
- Nested tags must be correctly reconstructed in the `children` array;
- If multiple root nodes exist, the function returns an array of nodes;
- If the markup is invalid (e.g. mismatched closing tags, incomplete tags), the function throws an exception with the message `InvalidMarkup`.

### Requirements:

- The function correctly parses a simple tag with text; (0.25 pts)
- The function correctly parses string and boolean attributes; (0.25 pts)
- The function correctly recognizes nested nodes; (0.25 pts)
- The function preserves the order of text and child elements; (0.25 pts)
- The function correctly handles multiple root nodes; (0.25 pts)
- The function throws `InvalidMarkup` for malformed input; (0.25 pts)

---

### Steps to run the tests and submit the assignment:

1. Accept the assignment received on the GitHub Classroom platform
2. Download the personal repository created on the platform
3. In the root directory, run the `npm install` command to install the modules needed to run the tests
4. Add your solution in the `app.js` file in the root directory
5. In the root directory, run the `npm test` command to run the tests
   - you can use a partial test command for each requirement: `npm run test-parse-0`
6. Check the test results
   - Failed tests
     ![Test execution](./assets/teste-bad.png)
   - Valid tests
     ![Test execution](./assets/teste-good.png)
7. After solving the requirements, create a commit and use the push command to upload the changes to GitHub (details in the first lab)
